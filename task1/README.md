h1. Рассуждения

Нам нужно принимать данные фигур, создавать холс по этим данным, проходить в цикле по переданным данным, рисовать их и отправлять результат пользователю.
Для нагруженного проекта контроллер здесь не нужен (в виде класса, так как вызываться он будет всегда в одном и том же месте и одно и тоже действие).

Для построения фигур - можно применить ООП. Здесь вариантов много, от фабрики, до применяемого здесь варианта.
Также можно завести класс, который будет отвечать за способ отображения данных.

Получилась следующа структура:
Модель данных:
AbstractShape и наследники - отвечают за хранение данных о фигурах.
AbstractRender и наследники - отвечает за отображение всех фигур на каком-то поле (формате)
ShapeRender - отвечает за отображение конкретной фигуры.


Если мы хотим добавить новую фигуру, например треугольник, то нужно создать класс:
TriangleShape наследник от AbstractShape - здесь данные
и класс TriangleShapeHtml5Render - для формирования кода, для отображения на canvas

Если же мы захотим создавать картинку, например PNG, то тогда нужно создать новый класс отображениея, например
ImageRender
и для каждой фигуры, создать CircleShapeImageRender, SquareShapeImageRender и т.п.

Пример работы можно посмотреть здесь: http://placehiring.com/yell/task1/